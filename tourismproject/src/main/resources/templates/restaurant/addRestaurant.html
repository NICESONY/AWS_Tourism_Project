<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>신규 장소 등록</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .modal-content {
            border-radius: 10px;
        }
        .modal-header, .modal-footer {
            border: none;
        }
        .modal-header {
            background-color: #f1f1f1;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        .modal-title {
            font-size: 1.25rem;
            font-weight: bold;
        }
        .btn-primary {
            background-color: #007bff;
            border: none;
            border-radius: 20px;
            padding: 0.5rem 1rem;
        }
        .btn-primary:hover {
            background-color: #0056b3;
        }
        .form-control {
            border-radius: 5px;
            margin-top: 0.5rem;
        }
        .form-group label {
            font-weight: bold;
        }
        .form-group span {
            color: red;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">신규 장소 등록</h5>
                </div>


                <form action="/restaurant/addrestaurant"method="post"enctype="multipart/form-data">

                <div class="modal-body">
                    <p>사진을 제보해 주시면 레벨 점수를 드립니다.</p>
                    <div class="text-center mb-3">
                        <button type="button" class="btn btn-primary">사진추가</button>
                        <button type="button" class="btn btn-primary"  data-toggle="modal" data-target="#modal3">사진추가</button> 

                    </div>
                    
                        	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <!-- Vertically centered scrollable modal2 -->
                            <div class="modal fade" id="modal3" tabindex="-1" role="dialog" aria-labelledby="modal2Label" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="modal2Label">봉구스 밥버거 공주대점의 사진</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="container">
                                                <div class="row">
                                                    <!-- Repeat the image blocks for more images -->
                                                    <div class="container mt-5">
        <h2>이미지 업로드</h2>


            <input type="file" name="file1" class="file-input" id="file1" accept="image/*">
             <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <div class="button-container">
                <label for="file1" class="file-label">사진 선택</label>

            </div>
            <div id="previewContainer">
                <p>사진 추가 picture</p>
            </div>

    </div>
    <script>
        document.getElementById('file1').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewContainer = document.getElementById('previewContainer');

                    // 기존의 미리보기 이미지가 있으면 제거
                    const existingImg = document.getElementById('imagePreview');
                    if (existingImg) {
                        previewContainer.removeChild(existingImg);
                    }

                    // 새로운 이미지 태그 생성
                    const img = document.createElement('img');
                    img.id = 'imagePreview';
                    img.src = e.target.result;
                    img.className = 'preview';
                    img.alt = 'Image preview...';

                    // 미리보기 컨테이너에 이미지 추가
                    previewContainer.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        });
    </script>
                                                    <!-- Add more images as needed -->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>



                        <div class="form-group">
                            <label for="locationname">장소명 <span>(필수)</span></label>
                            <input type="text" class="form-control" id="locationname"name="locationname" placeholder="음식점의 이름을 입력해주세요.">
                        </div>
                        
                        <div class="form-group">
                            <label for="location">위치 <span>(필수)</span></label>
                            <input type="text" class="form-control" name="location"id="location" placeholder="충남 천안시 서북구 부대동 888">
                            <small class="form-text text-muted">상세 정보를 입력하세요. (예: 동, 층, 호)</small>
                        </div>
                        <div class="form-group">
                            <label for="cphone">전화번호</label>
                           
                            <input type="text" class="form-control" id="cphone"name="cphone" placeholder="예) 010-1588-1588">
                        </div>

                        <div class="form-group">
                            <label for="worktime">영업시간</label>
                            <input type="text" class="form-control" id="worktime"name="worktime" placeholder="예) 09:00~20:00">
                        </div>
                        
                           <div class="form-group">
                            <label for="productmenu">상품/메뉴</label>
                            <div id="productMenuContainer">
                                <div class="product-menu-group mb-2">
                                    <input type="text" class="form-control" id="productmenu" name="productmenu" placeholder="상품/메뉴">
                                    <input type="text" class="form-control" id="price" name="price" placeholder="가격">
                                </div>
                            </div>
                            <button type="button" class="btn btn-secondary btn-sm" onclick="addProductMenu()">추가</button>
                        </div>
                        
                        <div class="form-group">
                            <label for="category">카테고리</label>
                            <div id="categoryContainer">
                                <input type="text" class="form-control mb-2" id="category"name="category" placeholder="#한식#양식#일식">
                            </div>
                            <button type="button" class="btn btn-secondary btn-sm" onclick="addCategory()">추가</button>
                        </div>
                        
                        <div class="modal-footer">
                    <a href="/"><button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button></a>
                    <button type="submit" class="btn btn-primary">등록하기</button>
                </div>
                    

                </div>

                </form>	
            </div>
        </div>
    </div>
<script>
var customid = 0;
function addProductMenu() {
    customid++;
    const container = document.getElementById('productMenuContainer');
    const newGroup = document.createElement('div');
    newGroup.className = 'product-menu-group mb-2';
    newGroup.innerHTML = `
        <input type="text" class="form-control" name="productmenu" placeholder="상품/메뉴">
        <input type="text" class="form-control" name="price" placeholder="가격">
    `;
    container.appendChild(newGroup);
}
var categoryId = 0;
function addCategory(){
    categoryId++;
    const container = document.getElementById('categoryContainer');
    const newInput = document.createElement('input');
    newInput.type = 'text';
    newInput.className = 'form-control mb-2';
    newInput.placeholder = '#한식#양식#일식';
    newInput.name = 'category';
    container.appendChild(newInput);
}
    </script>
    <!-- Bootstrap JS and dependencies -->
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
  2 changes: 2 additions & 0 deletions2  